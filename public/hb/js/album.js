!function(t){function i(s){if(e[s])return e[s].exports;var o=e[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i){"use strict";var e={albumid:"",ulNum:0,photoNum:0,timer:null,init:function(){this._setConfig(),this._setDom(),this._getPhotosDate()},_setConfig:function(){this.albumid=$("#albumId").val()},_setDom:function(){$(".album").css("min-height",$("body").height()-295)},_bindEvent:function(){var t=this,i=!1;$(".search-bar").find("img").on("mouseover",function(){i||$(".search-bar").animate({width:"150px"},500)}),$(".search-bar").find("input").on("mouseout",function(){i=!0,setTimeout(function(){i=!1},500),$(".search-bar").animate({width:"20px"},500)}),$(".switch-btn").on("click",function(){clearTimeout(t.timer);var i=$(this).attr("id"),e=$(".album-photo-list.current"),s=null,o=e.index(),n=0;n="left"==i?0==o?t.ulNum-1:o-1:t.ulNum-1==o?0:o+1,s=$(".album-photo-list").eq(n),$(".album-photo-list").eq(o).addClass("out").removeClass("current"),$(".album-photo-list").eq(n).addClass("current"),setTimeout(function(){$(".album-photo-list").eq(o).css("display","none").removeClass("out"),setTimeout(function(){$(".album-photo-list").eq(o).css("display","block"),t.timer=setTimeout(function(){$("#right").trigger("click")},3e3)},1e3)},1e3)}),$(".close-btn").on("click",function(){$(".bigimg-content").css("display","none"),$("#bigImgList").find("li").removeClass("show"),$("body").css({height:"auto",overflow:"scroll"}),t.timer=setTimeout(function(){$("#right").trigger("click")},3e3)}),$(".photo-item").on("click",function(){clearTimeout(t.timer);var i=parseInt($(this).attr("data-index"));$(".bigimg-content").css("display","block");var e=$(".bigimg-content").height();$("body").css({height:e,overflow:"hidden"}),$("#bigImgList li").eq(i).addClass("show"),0==i?$(".left-btn").addClass("disabled"):i==t.photoNum-1&&$(".right-btn").addClass("disabled")}),$(".arrow-btn").on("click",function(){if(!$(this).hasClass("disabled")){var i=$("#bigImgList .show"),e=parseInt(i.index()),s=e+("left"==$(this).attr("id")?-1:1);console.log(s),i.removeClass("show"),$("#bigImgList li").eq(s).addClass("show"),0==s?$(".left-btn").addClass("disabled"):s==t.photoNum-1?$(".right-btn").addClass("disabled"):$(".arrow-btn").removeClass("disabled")}})},_getPhotosDate:function(t){var i=this;$.ajax({url:"/hb/photobyalbum?id="+i.albumid,dataType:"json",type:"GET",success:function(t){var e=Math.ceil(t.result.length/28),s=[],o="",n="";i.ulNum=e;for(var l=0;e>l;l++){s=t.result.slice(28*l,28*(l+1)),o+='<ul class="album-photo-list '+(0==l?"current":"")+'" id="list_'+(l+1)+'">';for(var a=0;a<s.length;a++)0==a%7&&(o+='<li class="clearfix">'),o+='<div class="photo-item" data-index="'+(28*l+a)+'"><img src="'+s[a].url+'?imageView2/2/w/200" alt=""><div class="album-photo-info">'+s[a].name+"</div></div>",6==a%7&&(o+="</li>"),n+='<li><img src="'+s[a].url+'" alt=""><p class="bigimg-title">'+s[a].name+"</p></li>";o+="</ul>"}$("#albumContent").append(o),$("#bigImgList").append(n),i._bindEvent(),setTimeout(function(){$(".content-loading").css("display","none"),$(".album-left, .album-right").css("display","block"),i.timer=setInterval(function(){$("#right").trigger("click")},3e3)},2e3)}})}};$(function(){e.init()})}]);